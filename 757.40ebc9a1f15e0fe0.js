"use strict";(self.webpackChunksklad_front=self.webpackChunksklad_front||[]).push([[757],{9757:(z,i,o)=>{o.r(i),o.d(i,{TransfersModule:()=>$});var u=o(6814),m=o(3566),r=o(5313),t=o(5879),C=o(8030);function h(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1,"\u0414\u0430\u0442\u0430"),t.qZA())}function g(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,(null==n?null:n.date)||""))}}function _(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1,"\u0422\u043e\u0432\u0430\u0440\u044b"),t.qZA())}function Z(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.TgZ(2,"sup"),t._uU(3,"3"),t.qZA()()),2&e){const n=a.$implicit;t.xp6(1),t.lnq(" \u0421\u043a\u043b\u0430\u0434: ",n.storage," - ",n.product.title," ",n.product.count," \u043c")}}function y(e,a){if(1&e&&(t.TgZ(0,"td",13),t.YNc(1,Z,4,3,"div",14),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngForOf",n.data)}}function x(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(null==n?null:n.userName)}}function A(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1,"\u041c\u0435\u0441\u0442\u043e"),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(null==n?null:n.place)}}function U(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1,"\u0422\u0438\u043f"),t.qZA())}const N=function(e){return{green:e}};function S(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=a.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.VKq(2,N,"0"===n.type)),t.xp6(1),t.Oqu(s.getType(n.type))}}function B(e,a){1&e&&t._UZ(0,"tr",16)}function D(e,a){1&e&&t._UZ(0,"tr",17)}function Q(e,a){if(1&e&&(t.TgZ(0,"table",1),t.ynx(1,2),t.YNc(2,h,2,0,"th",3),t.YNc(3,g,3,3,"td",4),t.BQk(),t.ynx(4,5),t.YNc(5,_,2,0,"th",3),t.YNc(6,y,2,1,"td",4),t.BQk(),t.ynx(7,6),t.YNc(8,x,2,0,"th",3),t.YNc(9,v,2,1,"td",4),t.BQk(),t.ynx(10,7),t.YNc(11,A,2,0,"th",3),t.YNc(12,Y,2,1,"td",4),t.BQk(),t.ynx(13,8),t.YNc(14,U,2,0,"th",3),t.YNc(15,S,2,4,"td",9),t.BQk(),t.YNc(16,B,1,0,"tr",10),t.YNc(17,D,1,0,"tr",11),t.qZA()),2&e){const n=t.oxw();t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}let O=(()=>{class e{constructor(n){this.transferService=n,this.displayedColumns=["date","data","user","place","type"],this.dataSource=new r.by([])}ngOnInit(){this.transferService.getAll().subscribe(n=>{n.forEach(s=>{const c=[];s.data.forEach(l=>{const p=c.find(T=>T.storage===l.storage&&T.product.name===l.product.name);p?p.product.count+=l.product.count:c.push(l)}),s.data=c}),this.dataSource.data=n})}ngAfterViewInit(){this.dataSource.sort=this.sort}getType(n){return"0"===n?"\u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435":"\u0412\u044b\u0432\u043e\u0437"}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(C.Z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-transfers"]],viewQuery:function(s,c){if(1&s&&t.Gf(m.YE,5),2&s){let l;t.iGM(l=t.CRH())&&(c.sort=l.first)}},decls:1,vars:1,consts:[["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","date"],["class","title","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","content","mat-cell","",4,"matCellDef"],["matColumnDef","data"],["matColumnDef","user"],["matColumnDef","place"],["matColumnDef","type"],["class","content type","mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"title"],["mat-cell","",1,"content"],[4,"ngFor","ngForOf"],["mat-cell","",1,"content","type",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(s,c){1&s&&t.YNc(0,Q,18,4,"table",0),2&s&&t.Q6J("ngIf",c.dataSource)},dependencies:[u.mk,u.sg,u.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,m.YE,m.nU,u.uU],styles:[".title[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{font-size:18px}.type[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}"]})}return e})();var f=o(1896),b=o(2296),E=o(2032),d=o(95),F=o(7466),J=o(7700),R=o(8525),M=o(6381),w=o(7988);const H=[{path:"",component:O}];let $=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.ez,f.Bz.forChild(H),r.p0,m.JX,b.ot,E.c,d.UX,F.Fk,J.Is,R.LD,d.u5,M.Bb,w.Tx,f.Bz]})}return e})()}}]);