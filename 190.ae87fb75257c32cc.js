"use strict";(self.webpackChunksklad_front=self.webpackChunksklad_front||[]).push([[190],{7190:(J,h,i)=>{i.r(h),i.d(h,{ProductsModule:()=>Y});var _=i(6814),d=i(1896),a=i(5313),P=i(3566),m=i(2296),g=i(2032),c=i(95),b=i(7466),l=i(7700),t=i(5879),p=i(9862),C=i(9157);let x=(()=>{class e{constructor(o,n,u){this.data=o,this.dialogRef=n,this.http=u,this.productForm=new c.cw({name:new c.NI(""),title:new c.NI("")}),this.isNew=!0}ngOnInit(){console.error(this.data),this.data?.product&&(this.isNew=!1,this.productForm.reset({name:this.data.product.name,title:this.data.product.title}))}onSubmit(){this.isNew?this.http.post("products",this.productForm.value).subscribe(o=>this.dialogRef.close()):this.http.patch("products",this.productForm.value).subscribe(o=>this.dialogRef.close())}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.WI),t.Y36(l.so),t.Y36(p.eN))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-form"]],decls:13,vars:2,consts:[[1,"container"],[1,"login"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["formControlName","name","matInput",""],["formControlName","title","matInput",""],["mat-raised-button","",3,"click"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"\u041a\u043e\u0434\u043e\u0432\u043e\u0435 \u0438\u043c\u044f"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"button",6),t.NdJ("click",function(){return u.onSubmit()}),t._uU(12),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",u.productForm),t.xp6(10),t.Oqu(u.isNew?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))},dependencies:[m.lW,g.Nt,C.KE,C.hX,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.example-full-width[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]{padding:10px}"]})}return e})();var w=i(5619);let Z=(()=>{class e{constructor(o,n){this.http=o,this.router=n,this.isLoading=new w.X(!1)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(p.eN),t.LFG(d.F0))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function v(e,s){1&e&&(t.TgZ(0,"th",14)(1,"p"),t._uU(2,"\u041a\u043e\u0434\u043e\u0432\u043e\u0435 \u0438\u043c\u044f"),t.qZA()())}function N(e,s){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Oqu(o.name)}}function T(e,s){1&e&&(t.TgZ(0,"th",14)(1,"p"),t._uU(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),t.qZA()())}function y(e,s){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Oqu(o.title)}}function O(e,s){1&e&&t._UZ(0,"th",14)}function F(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"td",16)(1,"div",17)(2,"button",18),t.NdJ("click",function(){const r=t.CHM(o).$implicit,f=t.oxw(2);return t.KtG(f.editProduct(r))}),t._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){const r=t.CHM(o).$implicit,f=t.oxw(2);return t.KtG(f.removeProduct(r))}),t._uU(5,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()()}}function M(e,s){1&e&&t._UZ(0,"tr",19)}function A(e,s){1&e&&t._UZ(0,"tr",20)}function D(e,s){if(1&e&&(t.TgZ(0,"mat-table",5),t.ynx(1,6),t.YNc(2,v,3,0,"th",7),t.YNc(3,N,2,1,"td",8),t.BQk(),t.ynx(4,9),t.YNc(5,T,3,0,"th",7),t.YNc(6,y,2,1,"td",8),t.BQk(),t.ynx(7,10),t.YNc(8,O,1,0,"th",7),t.YNc(9,F,6,0,"td",11),t.BQk(),t.YNc(10,M,1,0,"tr",12),t.YNc(11,A,1,0,"tr",13),t.qZA()),2&e){const o=t.oxw();t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}const U=[{path:"",component:(()=>{class e{constructor(o,n,u){this.dialog=o,this.http=n,this.productsService=u,this.displayedColumns=["name","title","actions"]}ngOnInit(){this.getProducts()}openForm(){this.dialog.open(x,{data:{isNew:!0},width:"350px"}).afterClosed().subscribe(()=>this.getProducts())}getProducts(){this.http.get("products").subscribe(o=>this.dataSource=new a.by(o))}removeProduct(o){this.http.delete(`products/${o._id}`).subscribe(()=>this.getProducts())}editProduct(o){this.dialog.open(x,{data:{isNew:!1,product:o},width:"350px"}).afterClosed().subscribe(()=>this.getProducts())}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.uw),t.Y36(p.eN),t.Y36(Z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-products"]],decls:8,vars:1,consts:[[1,"table"],[1,"header"],[3,"dataSource",4,"ngIf"],[1,"add"],["color","primary","mat-raised-button","",3,"click"],[3,"dataSource"],["matColumnDef","name"],["class","title","mat-header-cell","",4,"matHeaderCellDef"],["class","content","mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","actions"],["class","content","class","actions_td","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"title"],["mat-cell","",1,"content"],["mat-cell","",1,"actions_td"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,u){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p"),t._uU(3,"\u0422\u043e\u0432\u0430\u0440\u044b"),t.qZA()(),t.YNc(4,D,12,3,"mat-table",2),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return u.openForm()}),t._uU(7,"+"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",u.dataSource))},dependencies:[_.O5,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,m.lW],styles:[".actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;padding-top:10px}.title[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{font-size:18px}mat-table[_ngcontent-%COMP%]{background-color:#e9f6ff;width:-moz-fit-content;width:fit-content;margin:0 auto}.mdc-data-table__table[_ngcontent-%COMP%]{min-width:10%!important}.header[_ngcontent-%COMP%]{display:flex;gap:20px;padding:30px;margin:0 auto;width:-moz-fit-content;width:fit-content;align-items:center}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px;margin:0}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20px}.table[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{padding:20px;width:-moz-fit-content;width:fit-content;margin:0 auto}"]})}return e})()}];let Y=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[_.ez,d.Bz.forChild(U),a.p0,P.JX,m.ot,g.c,c.UX,b.Fk,l.Is,d.Bz]})}return e})()}}]);