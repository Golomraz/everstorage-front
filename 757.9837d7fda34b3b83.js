"use strict";(self.webpackChunksklad_front=self.webpackChunksklad_front||[]).push([[757],{9757:(H,f,a)=>{a.r(f),a.d(f,{TransfersModule:()=>w});var u=a(6814),m=a(3566),r=a(5313),t=a(5879),C=a(8030);function h(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1,"\u0414\u0430\u0442\u0430"),t.qZA())}function g(e,o){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,(null==n?null:n.date)||""))}}function y(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1,"\u0422\u043e\u0432\u0430\u0440\u044b"),t.qZA())}function Z(e,o){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.lnq(" \u0421\u043a\u043b\u0430\u0434: ",n.storage," - ",n.product.title," ",n.product.count," ")}}function v(e,o){if(1&e&&(t.TgZ(0,"td",12),t.YNc(1,Z,2,3,"div",13),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngForOf",n.data)}}function x(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),t.qZA())}function _(e,o){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.userName)}}function A(e,o){1&e&&(t.TgZ(0,"th",11),t._uU(1,"\u0422\u0438\u043f"),t.qZA())}const S=function(e){return{green:e}};function Y(e,o){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const n=o.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.VKq(2,S,"0"===n.type)),t.xp6(1),t.Oqu(s.getType(n.type))}}function B(e,o){1&e&&t._UZ(0,"tr",15)}function D(e,o){1&e&&t._UZ(0,"tr",16)}function N(e,o){if(1&e&&(t.TgZ(0,"table",1),t.ynx(1,2),t.YNc(2,h,2,0,"th",3),t.YNc(3,g,3,3,"td",4),t.BQk(),t.ynx(4,5),t.YNc(5,y,2,0,"th",3),t.YNc(6,v,2,1,"td",4),t.BQk(),t.ynx(7,6),t.YNc(8,x,2,0,"th",3),t.YNc(9,_,2,1,"td",4),t.BQk(),t.ynx(10,7),t.YNc(11,A,2,0,"th",3),t.YNc(12,Y,2,4,"td",8),t.BQk(),t.YNc(13,B,1,0,"tr",9),t.YNc(14,D,1,0,"tr",10),t.qZA()),2&e){const n=t.oxw();t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}let Q=(()=>{class e{constructor(n){this.transferService=n,this.displayedColumns=["date","data","user","type"],this.dataSource=new r.by([])}ngOnInit(){this.transferService.getAll().subscribe(n=>{n.forEach(s=>{const c=[];s.data.forEach(l=>{const p=c.find(T=>T.storage===l.storage&&T.product.name===l.product.name);p?p.product.count+=l.product.count:c.push(l)}),s.data=c}),this.dataSource.data=n})}ngAfterViewInit(){this.dataSource.sort=this.sort}getType(n){return"0"===n?"\u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435":"\u0412\u044b\u0432\u043e\u0437"}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(C.Z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-transfers"]],viewQuery:function(s,c){if(1&s&&t.Gf(m.YE,5),2&s){let l;t.iGM(l=t.CRH())&&(c.sort=l.first)}},decls:1,vars:1,consts:[["mat-table","","matSort","",3,"dataSource",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","date"],["class","title","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","content","mat-cell","",4,"matCellDef"],["matColumnDef","data"],["matColumnDef","user"],["matColumnDef","type"],["class","content type","mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"title"],["mat-cell","",1,"content"],[4,"ngFor","ngForOf"],["mat-cell","",1,"content","type",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(s,c){1&s&&t.YNc(0,N,15,4,"table",0),2&s&&t.Q6J("ngIf",c.dataSource)},dependencies:[u.mk,u.sg,u.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,m.YE,m.nU,u.uU],styles:[".title[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{font-size:18px}.type[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}"]})}return e})();var i=a(1896),U=a(2296),O=a(2032),d=a(95),b=a(7466),F=a(7700),J=a(8525),R=a(6381),E=a(7988);const M=[{path:"",component:Q}];let w=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.ez,i.Bz.forChild(M),r.p0,m.JX,U.ot,O.c,d.UX,b.Fk,F.Is,J.LD,d.u5,R.Bb,E.Tx,i.Bz]})}return e})()}}]);